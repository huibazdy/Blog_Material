## 相似度度量（Similatiry Scoring）

相似度度量的原理是利用一个函数来判断两个音频嵌入码是否具有一致性。

输入：分别是运行时录入得到的和训练时用户录入的声纹档案，可以分别表征为两个向量，分别是：

* 运行时音频特征：$\mathbf {e_1}$
* 运行前用户录入的声纹特征：$\mathbf {e_2}$

### 余弦相似度

计算两个向量在欧式空间中的夹角，分子是向量内积，分母是两个向量的 L2 范数乘积：

越大与相似。

### 欧氏距离

对两向量的差再取 L2 范数得到：

然后再对其取倒数。

越小越相似。

> 注意：
>
> 余弦相似度与向量长度无关，因为分母中有 L2 范数，相当于是单位向量。但欧氏距离是和限量长度相关的。



### 基于模型的相似度量

前面两种打分机制都是没有任何参数的，只和输入特征向量有关。除此之外还有另外的一种打分情况，那就是基于**可变参数**模型的相似度量。

简而言之：就是用一个带参数向量（$\boldsymbol\theta$）的函数来进行打分，输入变量还是两个向量。
$$
\boldsymbol{f}\,(\bold{e_1},\bold{e_1}\,|\,\boldsymbol{\theta})
$$
这里的 $\boldsymbol{f}(\bold{\cdot})$一般指的就是 AI 模型。可能是 ML ，也可能是一个 ANN 。注意，此处的神经网络一般称为**决策网络**（**Decision Network**）。

> 怎样理解参数向量 $\boldsymbol\theta$ ？

例如此处的 $\boldsymbol{f}(\bold{\cdot})$ 是一个简单的多项式，那么这个多项式的系数就组成了参数向量 $\boldsymbol\theta$ 。如果模型比较复杂，例如一个神经网络，那么 $\boldsymbol\theta$ 就是一个神经网络的参数（权重weights、偏差bias等）。

$\boldsymbol\theta$ 是由训练数据得到的参数向量。



> 基于模型的相似度量的变种——**Dr-Vectors**

融合了余弦相似度和神经网络两种相似度度量方式，然后将二者的分数相加。

* 余弦相似度使用了整个声纹嵌入码
* 决策网络只使用了声纹嵌入码的一部分维度

这种变种相似度度量方法保留了两种方式的优势。